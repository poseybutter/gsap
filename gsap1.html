<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GSAP Scroll Effect</title>
  <link rel="stylesheet" href="style.css">

   <!-- 웹폰트 설정 -->
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
</head>
<body>
  <header id="parallax__title">
    <h1>GSAP Parallax Effect1</h1>
    <p>GSAP scrollTrigger - 애니메이션 기본 효과</p>
    <ul>
        <li class="active"><a href="gsap1.html">1</a></li>
        <li><a href="gsap2.html">2</a></li>
        <li><a href="gsap3.html">3</a></li>
        <li><a href="gsap4.html">4</a></li>
        <li><a href="gsap5.html">5</a></li>
        <li><a href="gsap6.html">6</a></li>
        <li><a href="gsap7.html">7</a></li>
        <li><a href="gsap8.html">8</a></li>
        <li><a href="gsap9.html">9</a></li>
        <li><a href="gsap10.html">10</a></li>
        <li><a href="gsap11.html">11</a></li>
        <li><a href="gsap12.html">12</a></li>
        <li><a href="gsap13.html">13</a></li>
        <li><a href="gsap14.html">14</a></li>
        <li><a href="gsap15.html">15</a></li>
    </ul>
</header>
<!-- //parallax__title  -->

<main id="parallax__cont">
    <section id="section1" class="parallax__item">
        <span class="parallax__item__num">01</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section1 -->

    <section id="section2" class="parallax__item">
        <span class="parallax__item__num">02</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section2 -->

    <section id="section3" class="parallax__item">
        <span class="parallax__item__num">03</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section3 -->

    <section id="section4" class="parallax__item">
        <span class="parallax__item__num">04</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section4 -->

    <section id="section5" class="parallax__item">
        <span class="parallax__item__num">05</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section5 -->

    <section id="section6" class="parallax__item">
        <span class="parallax__item__num">06</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section6 -->

    <section id="section7" class="parallax__item">
        <span class="parallax__item__num">07</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section7 -->

    <section id="section8" class="parallax__item">
        <span class="parallax__item__num">08</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section8 -->

    <section id="section9" class="parallax__item">
        <span class="parallax__item__num">09</span>
        <div class="parallax__item__img"></div>
    </section>
    <!-- //section9 -->
</main>

  <!-- GSAP 라이브러리 설정 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
  <script>
    const box1 = document.querySelector('#section1 .parallax__item__img');
    const box2 = document.querySelector('#section2 .parallax__item__img');
    const box3 = document.querySelector('#section3 .parallax__item__img');
    const box4 = document.querySelector('#section4 .parallax__item__img');
    const box5 = document.querySelector('#section5 .parallax__item__img');
    const box6 = document.querySelector('#section6 .parallax__item__img');
    const box7 = document.querySelector('#section7 .parallax__item__img');
    const box8 = document.querySelector('#section8 .parallax__item__img');
    const box9 = document.querySelector('#section9 .parallax__item__img');

    // 01
    gsap.to(box1, {
        x: 500,
        duration: 2,
        borderRadius: 50,
        rotation: 360,
    })

    // 02
    gsap.to(box2, {
        x: 500,
        duration: 2,
        borderRadius: 50,
        rotation: 360,
        scrollTrigger: {
            trigger: box2, // 시작점 설정
        }
    })

    // 03
    gsap.to(box3, {
        x: 500,
        duration: 2,
        borderRadius: 50,
        rotation: 360,
        scrollTrigger: {
            trigger: box3, // 시작점 설정
            toggleActions: 'play none reverse none', // 애니메이션이 시작했을 때, 애니메이션이 끝났을 때, 애니메이션이 시작하고 화면에 보이지 않을 때, 애니메이션이 끝나고 화면에 보이지 않을 때 4가지로 설정할 수 있음
        }
    })

    // 04 : start, end
    gsap.to(box4, {
        x: 500,
        duration: 2,
        borderRadius: 50,
        rotation: 360,
        scrollTrigger: {
            trigger: box4, // 시작점 설정
            start: 'top 50%',
            end: 'bottom 20%',
            toggleActions: 'play none reverse none', // 애니메이션이 시작했을 때, 애니메이션이 끝났을 때, 애니메이션이 시작하고 화면에 보이지 않을 때, 애니메이션이 끝나고 화면에 보이지 않을 때 4가지로 설정할 수 있음
            markers: false,
        }
    })

    // 05 : scrub
    gsap.to(box5, {
        x: 500,
        duration: 2,
        borderRadius: 50,
        rotation: 360,
        scrollTrigger: {
            trigger: box5, // 시작점 설정
            start: 'top 50%',
            end: 'bottom 20%',
            scrub: 1, // true, 1, 2...
            markers: false,
        }
    })

    // 06 : pin
    gsap.to(box6, {
        x: 500,
        duration: 2,
        borderRadius: 50,
        rotation: 360,
        scrollTrigger: {
            trigger: box6, // 시작점 설정
            start: 'top 50%',
            end: 'bottom 200px',
            scrub: 1,
            pin: true,
            markers: false,
        }
    })

    // 07 : toggleClass
    gsap.to(box7, {
        x: 500,
        duration: 2,
        borderRadius: 50,
        rotation: 360,
        scrollTrigger: {
            trigger: box7, // 시작점 설정
            start: 'top center',
            end: 'bottom 20%',
            scrub: true,
            toggleClass: 'active',
            markers: false,
            id: 'box7',
        }
    })

    // 08 : callback 함수
    gsap.to(box8, {
        x: 500,
        duration: 2,
        borderRadius: 50,
        rotation: 360,
        scrollTrigger: {
            trigger: box8, // 시작점 설정
            start: 'top center',
            end: 'bottom 20%',
            scrub: true,
            markers: true,
            // onEnter: () => {console.log('onEnter')},
            // onLeave: () => {console.log('onLeave')},
            // onEnterBack: () => {console.log('onEnterBack')},
            // onLeaveBack: () => {console.log('onLeaveBack')},
            onUpdate: (self) => {console.log('onUpdate', self.progress.toFixed(3))},
            // update된 것은 고정해서 소수 3자리만 나오도록 하라는 뜻. 진행 상황을 볼 수 있음
            onToggle: (self) => {console.log('onToggle', self.isActive)},
            // 이 기능이 작동될 때 false인지 true인지 출력할 수 있음
        }
    })
  </script>
</body>
</html>